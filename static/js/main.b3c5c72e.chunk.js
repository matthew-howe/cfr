(this.webpackJsonpcfr=this.webpackJsonpcfr||[]).push([[0],{29:function(t,e,r){},40:function(t,e,r){},41:function(t,e,r){},42:function(t,e,r){},43:function(t,e,r){},44:function(t,e,r){"use strict";r.r(e);var n=r(1),a=r(0),i=r(9),s=r.n(i),c=(r(29),r(3)),u=r(4),o="UPDATE_REGRETS",l={count:0,regrets:[]};function j(t){var e=t.strat;function r(){}function a(t){}return Object(n.jsxs)("div",{className:"rps-form",children:[Object(n.jsx)("form",{onSubmit:r,children:Object(n.jsx)("label",{children:Object(n.jsx)("input",{type:"text",id:"rfreq",value:e[0].toFixed(2),onChange:a})})}),Object(n.jsx)("form",{onSubmit:r,children:Object(n.jsx)("label",{children:Object(n.jsx)("input",{type:"text",id:"pfreq",value:e[1].toFixed(2),onChange:a})})}),Object(n.jsx)("form",{onSubmit:r,children:Object(n.jsx)("label",{children:Object(n.jsx)("input",{type:"text",id:"sfreq",value:e[2].toFixed(2),onChange:a})})})]})}var h=r(6),g=r(7),d=r(23),b=r(21),v=r(17),f=(r(37),function(t){Object(d.a)(r,t);var e=Object(b.a)(r);function r(){return Object(h.a)(this,r),e.apply(this,arguments)}return Object(g.a)(r,[{key:"componentDidUpdate",value:function(t){this.props}},{key:"renderRegrets",value:function(t){return t.map((function(t){return Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:t[0]}),Object(n.jsx)("span",{children:t[1]}),Object(n.jsx)("span",{children:t[2]})]})}))}},{key:"render",value:function(){var t={name:"Rock",data:{}},e={name:"Paper",data:{}},r={name:"Scissors",data:{}},a=0;for(var i in this.props.regrets)t.data[a]=this.props.regrets[i][0],e.data[a]=this.props.regrets[i][1],r.data[a]=this.props.regrets[i][2],a++;var s=[t,e,r];return console.log(s),Object(n.jsx)(v.a,{data:s})}}]),r}(a.Component)),O=Object(u.b)((function(t){return{regrets:t.rps.regrets}}))(f),S=r(22),p=function(){function t(e,r){Object(h.a)(this,t),this.strategy=[0,0,0],this.regretSum=[0,0,0],this.strategySum=[0,0,0],this.villainStrategy=e,this.setRegretSum=r.bind(this),this.villStrategy=[0,0,0],this.villRegretSum=[0,0,0],this.villStrategySum=[0,0,0]}return Object(g.a)(t,[{key:"getStrategy",value:function(){for(var t=0,e=0;e<3;e++)this.strategy[e]=this.regretSum[e]>0?this.regretSum[e]:0,t+=this.strategy[e];if(0===t){var r=this.getRandomStrat();console.log("New random strat created: ",r),this.strategy=r,t=1}for(var n=0;n<3;n++)this.strategy[n]/=t,this.strategySum[n]+=this.strategy[n];return this.strategy}},{key:"getVillStrategy",value:function(){for(var t=0,e=0;e<3;e++)this.villStrategy[e]=this.villRegretSum[e]>0?1*this.villRegretSum[e]:0,t+=this.villStrategy[e];if(0===t){var r=this.getRandomStrat();this.villStrategy=r,t=1}for(var n=0;n<3;n++)this.villStrategy[n]/=t,this.villStrategySum[n]+=this.villStrategy[n];return this.villStrategy}},{key:"getAction",value:function(t){for(var e=Math.random(),r=0,n=0;r<2&&!(e<(n+=t[r]));)r++;return r}},{key:"train",value:function(t){for(var e,r,n,a=[],i=[],s=0;s<t;s++){e=this.getStrategy(),r=this.getAction(e),this.getVillStrategy(),a[n=this.getAction(this.villStrategy)]=0,a[2===n?0:n+1]=1,a[0===n?2:n-1]=-1,i[r]=0,i[2===r?0:r+1]=1,i[0===r?2:r-1]=-1;for(var c=0;c<3;c++)this.regretSum[c]+=a[c]-a[r],this.villRegretSum[c]+=i[c]-i[n],s%100===0&&this.setRegretSum(Object(S.a)(this.regretSum))}}},{key:"getRandomStrat",value:function(){var t=Math.random(),e=Math.random(),r=Math.random(),n=t+e+r;return[t/n,e/n,r/n]}},{key:"getAvgStrategy",value:function(){for(var t=[0,0,0],e=this.strategySum.reduce((function(t,e){return t+e})),r=0;r<3;r++)t[r]=e>0?this.strategySum[r]/e:.333333333;return t}}]),t}();r(40);var m=Object(u.b)(null,{updateRegrets:function(t){return{type:o,regrets:t}}})((function(t){var e=t.updateRegrets,r=Object(a.useState)([.3333333,.3333333,.333333]),i=Object(c.a)(r,2),s=i[0],u=i[1],o=Object(a.useState)([]),l=Object(c.a)(o,2),h=(l[0],l[1],Object(a.useState)(1e3)),g=Object(c.a)(h,2),d=g[0],b=g[1],v=Object(a.useState)(!1),f=Object(c.a)(v,2),S=f[0],m=f[1],y=Object(a.useState)(!1),x=Object(c.a)(y,2),R=x[0],k=x[1],C=[0,0,0];if(S){var A=new p(s,(function(t){e(t)}));A.train(d),C=A.getAvgStrategy()}return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"controls",children:[Object(n.jsx)("button",{id:"rps-run-btn",onClick:function(){!1===S?m(!0):k(!R)},children:"RUN"}),Object(n.jsxs)("div",{id:"rps-iterations",children:[Object(n.jsx)("div",{children:"ITERATIONS"}),Object(n.jsx)("form",{children:Object(n.jsx)("label",{children:Object(n.jsx)("input",{type:"text",id:"",value:d,onChange:function(t){b(t.target.value)}})})})]}),Object(n.jsx)(j,{strat:C,setStrat:u})]}),Object(n.jsx)(O,{regrets:{}})]})})),y=function(){function t(){Object(h.a)(this,t)}return Object(g.a)(t,[{key:"hello",value:function(){return"Hello World"}}]),t}();r(41);var x=function(){var t=new y;return Object(n.jsx)("div",{children:t.hello().repeat(5)})};r(42);function R(t){var e=t.selected,r=t.setSelected;return Object(n.jsx)("div",{className:"navbar",children:["RPS","Kuhn Poker","MW Kuhn","Leduc Hold'em"].map((function(t,a){var i=a===e?"nav-btn nav-selected":"nav-btn";return Object(n.jsx)("button",{onClick:function(){return r(a)},className:i,children:t})}))})}r(43);var k=function(){var t=Object(a.useState)(1),e=Object(c.a)(t,2),r=e[0],i=e[1],s=[Object(n.jsx)(m,{}),Object(n.jsx)(x,{})],u=s[r%s.length];return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(R,{selected:r,setSelected:i}),u]})},C=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,45)).then((function(e){var r=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;r(t),n(t),a(t),i(t),s(t)}))},A=r(5),N=r(18),w=r(19),F=r(20),T=Object(A.combineReducers)({rps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o:var r=Object.assign({},t);return r.regrets.push(e.regrets),r.count=t.count+1,r;default:return t}}}),M=Object(F.composeWithDevTools)(Object(A.applyMiddleware)(w.a,Object(N.createLogger)({collapsed:!0}))),P=Object(A.createStore)(T,M);s.a.render(Object(n.jsx)(u.a,{store:P,children:Object(n.jsx)(k,{})}),document.getElementById("root")),C()}},[[44,1,2]]]);
//# sourceMappingURL=main.b3c5c72e.chunk.js.map